<section class="forgot-password">
  <div class="forgot-password-content">
    @if (isSubmitted()) {
      <div class="success-state">
        <div class="success-icon">
          <svg fill="none" height="48" viewBox="0 0 48 48" width="48" xmlns="http://www.w3.org/2000/svg">
            <circle cx="24" cy="24" fill="currentColor" opacity="0.1" r="24"/>
            <path d="M15 24l6 6 12-12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                  stroke-width="3"/>
          </svg>
        </div>
        <h1>Check your email</h1>
        <p class="forgot-password-text">
          If an account exists for <strong>{{ email() }}</strong>, we've sent a password reset link.
          The link will expire in 1 hour.
        </p>
        <p class="auth-link">
          <a routerLink="/login">Back to login</a>
        </p>
      </div>
    } @else {
      <h1>Forgot your password?</h1>
      <p class="forgot-password-text">
        Enter your email address and we'll send you a link to reset your password.
      </p>

      <form (ngSubmit)="onSubmit()" class="forgot-password-form">
        <div class="form-group">
          <label for="email">Email</label>
          <input
            (ngModelChange)="email.set($event)"
            [disabled]="isLoading()"
            [ngModel]="email()"
            id="email"
            name="email"
            placeholder="john@company.com"
            type="email"
          />
        </div>

        @if (error()) {
          <div class="error-message">{{ error() }}</div>
        }

        <button
          [disabled]="isLoading()"
          class="btn btn-primary btn-submit"
          type="submit"
        >
          @if (isLoading()) {
            <span class="spinner"></span>
            <span>Sending...</span>
          } @else {
            <span>Send Reset Link</span>
          }
        </button>
      </form>

      <p class="auth-link">
        Remember your password? <a routerLink="/login">Log in</a>
      </p>
    }
  </div>
</section>
