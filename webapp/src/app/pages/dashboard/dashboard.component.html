<section class="dashboard">
  @if (greeting()) {
    <h1 class="greeting">{{ greeting() }}</h1>
  }
  <div class="dashboard-content">
    @if (companyName()) {
      <h2 class="section-title">Applications of {{ companyName() }}:</h2>
      <div class="app-cards">
        <app-card [isAddCard]="true" (cardClick)="onAddApplicationClick()"/>
        @for (app of applications(); track app.id) {
          <app-card [name]="app.name" [application]="app" (applicationClick)="onApplicationClick($event)"/>
        }
      </div>
    }
  </div>
</section>

@if (showCompanyOnboarding()) {
  <app-onboarding-overlay>
    @if (showSuccessMessage()) {
      <div class="success-message">
        <div class="success-icon">&#10003;</div>
        <h2>Company Created!</h2>
        <p>Setting up your workspace...</p>
      </div>
    } @else {
      <app-company-creation-form (companyCreated)="onCompanyCreated($event)"/>
    }
  </app-onboarding-overlay>
}

@if (showApplicationCreation()) {
  <app-onboarding-overlay [closable]="true" (closeOverlay)="onCloseApplicationCreation()">
    <app-application-creation-form (applicationCreated)="onApplicationCreated($event)"/>
  </app-onboarding-overlay>
}
