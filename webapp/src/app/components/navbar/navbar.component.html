<nav>
  <a class="logo" routerLink="/">
    <div class="logo-icon">
      <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
           viewBox="0 0 24 24">
        <path d="M4 3L4 21"/>
        <rect height="8" rx="4" width="14" x="7" y="5"/>
        <circle cx="17" cy="9" fill="currentColor" r="2.5"/>
      </svg>
    </div>
    Flagforge
  </a>
    @if (isDashboard() && !isMobile()) {
      <h1 class="page-title">{{ pageTitle() }}</h1>
    } @else if (!isDashboard()) {
        <div class="nav-center">
          <a routerLink="/" fragment="features">Features</a>
          <a routerLink="/" fragment="how-it-works">How It Works</a>
          <a routerLink="/coming-soon">Docs</a>
            <a routerLink="/pricing">Pricing</a>
            <a routerLink="/dashboard">Dashboard</a>
        </div>
    }
  <div class="nav-actions">
    @if (authService.isAuthenticated()) {
      <a [attr.tabindex]="pricingState.cartCount() === 0 ? -1 : 0"
         [class.cart-link--disabled]="pricingState.cartCount() === 0"
         class="cart-link"
         routerLink="/dashboard/checkout"
         title="Pending payments">
        <svg fill="none" height="20" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" width="20">
          <path
            d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"
            stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        @if (pricingState.cartCount() > 0) {
          <span class="cart-badge">{{ pricingState.cartCount() }}</span>
        }
      </a>
      <a class="profile-link" routerLink="/dashboard/profile" title="Profile Settings">
        <svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg">
          <circle cx="10" cy="6" r="3" stroke="currentColor" stroke-width="1.5"/>
          <path d="M3 18c0-3.314 3.134-6 7-6s7 2.686 7 6" stroke="currentColor" stroke-linecap="round"
                stroke-width="1.5"/>
        </svg>
      </a>
      <button class="btn btn-primary" (click)="onLogout()">Logout</button>
    } @else {
      <a class="btn btn-primary" routerLink="/register">Get Started</a>
    }
  </div>
</nav>
